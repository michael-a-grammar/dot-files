theme = "catppuccin_mocha"

[editor]
auto-save              = false
color-modes	           = true
completion-trigger-len = 3
cursorcolumn           = false
cursorline             = true
idle-timeout           = 1200
line-number            = "relative"
middle-click-paste     = false
rulers                 = [120]
shell                  = ["fish", "-c"]

[editor.cursor-shape]
insert = "bar"
normal = "block"
select = "underline"

[editor.file-picker]
hidden = false

[editor.statusline]
left   = ["file-name"]
center = ["mode",      "spacer",   "selections",          "primary-selection-length",
          "separator", "position", "position-percentage", "total-line-numbers"]
right  = ["spinner",   "spacer",   "diagnostics",         "workspace-diagnostics"]

separator   = "|"

[editor.statusline.mode]
insert = "󱃱"
normal = ""
select = ""

[editor.whitespace]
render = "none"

[editor.whitespace.characters]
space   = "·"
nbsp    = "⍽"
tab     = "→"
newline = "⏎"
tabpad  = "·" 

[keys.normal]
esc = ["collapse_selection", "keep_primary_selection"]
tab = "repeat_last_motion"

# n = "move_char_left"
# e = "move_line_down"
# i = "move_line_up"
# o = "move_char_right"

# N = "insert_mode"
# E = "open_below"
# I = "open_above"
# O = "insert_at_line_start"

# h = "move_next_word_end"
# l = "search_next"
# H = "move_next_long_word_end"
# L = "search_prev"

[keys.normal.backspace]
"!" = "shell_append_output"
"(" = "rotate_selection_contents_backward"
")" = "rotate_selection_contents_forward"
"," = "remove_primary_selection"
":" = "ensure_selections_forward"
";" = "flip_selections"
"_" = "merge_consecutive_selections"
"`" = "switch_to_uppercase"
"|" = "shell_pipe_to"

n = "select_prev_sibling"
e = "shrink_selection"
i = "expand_selection"
o = "select_next_sibling"

a = "increment"
c = "change_selection_noyank"
d = "delete_selection_noyank"
g = "toggle_comments"
l = "jump_forward"
p = "jump_backward"
s = "split_selection_on_newline"
u = "earlier"
x = "shrink_to_line_bounds"
z = ":config-open"

A = "decrement"
C = "copy_selection_on_prev_line"
J = "join_selections_space"
K = "remove_selections"
P = "save_selection"
U = "later"
Z = ":config-reload"

[keys.normal.space]
","   = "buffer_picker"
space = "file_picker"
t     = "buffer_picker"

[keys.normal.z]
n = "half_page_down"
e = "scroll_down"
i = "scroll_up"
o = "half_page_up"

[keys.normal.Z]
n = "half_page_down"
e = "scroll_down"
i = "scroll_up"
o = "half_page_up"

[keys.normal."'"]
c = ":sh kitty @ launch --title cargo --type window --copy-env --cwd current --hold --keep-focus cargo check"
e = ":sh kitty @ scroll-window --match 'title:^cargo' 1p"
i = ":sh kitty @ scroll-window --match 'title:^cargo' 1p-"
x = ":sh kitty @ close-window --match 'title:^cargo'"

[keys.normal."+"]
c = ["vsplit_new", ":insert-output cargo check 2>&1 || true"]

[keys.insert.j]
j = "normal_mode"

[keys.select]
esc = ["collapse_selection", "keep_primary_selection", "normal_mode"]
tab = "repeat_last_motion"

[keys.select.backspace]
"!" = "shell_append_output"
"(" = "rotate_selection_contents_backward"
")" = "rotate_selection_contents_forward"
"," = "remove_primary_selection"
":" = "ensure_selections_forward"
";" = "flip_selections"
"_" = "merge_consecutive_selections"
"`" = "switch_to_uppercase"
"|" = "shell_pipe_to"

n = "select_prev_sibling"
e = "shrink_selection"
i = "expand_selection"
o = "select_next_sibling"

a = "increment"
c = "change_selection_noyank"
d = "delete_selection_noyank"
g = "toggle_comments"
l = "jump_forward"
p = "jump_backward"
s = "split_selection_on_newline"
u = "earlier"
x = "shrink_to_line_bounds"
z = ":config-open"

A = "decrement"
C = "copy_selection_on_prev_line"
J = "join_selections_space"
K = "remove_selections"
P = "save_selection"
U = "later"
Z = ":config-reload"

[keys.select.space]
t = "buffer_picker"
